define("willkan/foundation/4.3.1/foundation/foundation.section",["willkan/foundation/4.3.1/foundation/foundation","$"],function(a){var b=window.Foundation||a("willkan/foundation/4.3.1/foundation/foundation");!function(a,c,d){"use strict";b.libs.section={name:"section",version:"4.3.1",settings:{deep_linking:!1,small_breakpoint:768,one_up:!0,section_selector:"[data-section]",region_selector:"section, .section, [data-section-region]",title_selector:".title, [data-section-title]",resized_data_attr:"data-section-resized",small_style_data_attr:"data-section-small-style",content_selector:".content, [data-section-content]",nav_selector:'[data-section="vertical-nav"], [data-section="horizontal-nav"]',active_class:"active",callback:function(){}},init:function(c,d,e){var f=this;return b.inherit(this,"throttle data_options position_right offset_right"),"object"==typeof d&&a.extend(!0,f.settings,d),"string"!=typeof d?(this.events(),!0):this[d].call(this,e)},events:function(){for(var b=this,e=[],f=b.settings.section_selector,g=b.settings.region_selector.split(","),h=b.settings.title_selector.split(","),i=0,j=g.length;j>i;i++)for(var k=g[i],l=0,m=h.length;m>l;l++){var n=f+">"+k+">"+h[l];e.push(n+" a"),e.push(n)}a(b.scope).on("click.fndtn.section",e.join(","),function(c){var d=a(this).closest(b.settings.title_selector);b.close_navs(d),d.siblings(b.settings.content_selector).length>0&&b.toggle_active.call(d[0],c)}),a(c).on("resize.fndtn.section",b.throttle(function(){b.resize()},30)).on("hashchange.fndtn.section",b.set_active_from_hash),a(d).on("click.fndtn.section",function(c){c.isPropagationStopped&&c.isPropagationStopped()||c.target!==d&&b.close_navs(a(c.target).closest(b.settings.title_selector))}),a(c).triggerHandler("resize.fndtn.section"),a(c).triggerHandler("hashchange.fndtn.section")},close_navs:function(c){var d=b.libs.section,e=a(d.settings.nav_selector).filter(function(){return!a.extend({},d.settings,d.data_options(a(this))).one_up});if(c.length>0){var f=c.parent().parent();(d.is_horizontal_nav(f)||d.is_vertical_nav(f))&&(e=e.filter(function(){return this!==f[0]}))}e.children(d.settings.region_selector).removeClass(d.settings.active_class)},toggle_active:function(c){var d=a(this),e=b.libs.section,f=d.parent(),g=d.siblings(e.settings.content_selector),h=f.parent(),i=a.extend({},e.settings,e.data_options(h)),j=h.children(e.settings.region_selector).filter("."+e.settings.active_class);!i.deep_linking&&g.length>0&&c.preventDefault(),c.stopPropagation(),f.hasClass(e.settings.active_class)?!i.one_up&&(e.small(h)||e.is_vertical_nav(h)||e.is_horizontal_nav(h)||e.is_accordion(h))&&f.removeClass(e.settings.active_class):(j.removeClass(e.settings.active_class),f.addClass(e.settings.active_class),e.resize(f.find(e.settings.section_selector).not("["+e.settings.resized_data_attr+"]"),!0)),i.callback(h)},check_resize_timer:null,resize:function(c,e){var f=b.libs.section,g=f.small(a(d)),h=function(a,b){return!(f.is_accordion(a)||a.is("["+f.settings.resized_data_attr+"]")||g&&!f.is_horizontal_tabs(a)||b!==("none"===a.css("display")||!a.parent().is(":visible")))};c=c||a(f.settings.section_selector),clearTimeout(f.check_resize_timer),g||c.removeAttr(f.settings.small_style_data_attr),c.filter(function(){return h(a(this),!1)}).each(function(){var b=a(this),c=b.children(f.settings.region_selector),d=c.children(f.settings.title_selector),g=c.children(f.settings.content_selector),h=0;if(e&&0==b.children(f.settings.region_selector).filter("."+f.settings.active_class).length){var i=a.extend({},f.settings,f.data_options(b));i.deep_linking||!i.one_up&&(f.is_horizontal_nav(b)||f.is_vertical_nav(b)||f.is_accordion(b))||c.filter(":visible").first().addClass(f.settings.active_class)}if(f.is_horizontal_tabs(b)||f.is_auto(b)){var j=0;d.each(function(){var b=a(this);if(b.is(":visible")){b.css(f.rtl?"right":"left",j);var c=parseInt(b.css("border-"+(f.rtl?"left":"right")+"-width"),10);"Nan"===c.toString()&&(c=0),j+=f.outerWidth(b)-c,h=Math.max(h,f.outerHeight(b))}}),d.css("height",h),c.each(function(){var b=a(this),c=b.children(f.settings.content_selector),d=parseInt(c.css("border-top-width"),10);"Nan"===d.toString()&&(d=0),b.css("padding-top",h-d)}),b.css("min-height",h)}else if(f.is_horizontal_nav(b)){var k=!0;d.each(function(){h=Math.max(h,f.outerHeight(a(this)))}),c.each(function(){var c=a(this);c.css("margin-left","-"+(k?b:c.children(f.settings.title_selector)).css("border-left-width")),k=!1}),c.css("margin-top","-"+b.css("border-top-width")),d.css("height",h),g.css("top",h),b.css("min-height",h)}else if(f.is_vertical_tabs(b)){var l=0;d.each(function(){var b=a(this);if(b.is(":visible")){b.css("top",l);var c=parseInt(b.css("border-top-width"),10);"Nan"===c.toString()&&(c=0),l+=f.outerHeight(b)-c}}),g.css("min-height",l+1)}else if(f.is_vertical_nav(b)){var m=0,n=!0;d.each(function(){m=Math.max(m,f.outerWidth(a(this)))}),c.each(function(){var c=a(this);c.css("margin-top","-"+(n?b:c.children(f.settings.title_selector)).css("border-top-width")),n=!1}),d.css("width",m),g.css(f.rtl?"right":"left",m),b.css("width",m)}b.attr(f.settings.resized_data_attr,!0)}),a(f.settings.section_selector).filter(function(){return h(a(this),!0)}).length>0&&(f.check_resize_timer=setTimeout(function(){f.resize(c.filter(function(){return h(a(this),!1)}),!0)},700)),g&&c.attr(f.settings.small_style_data_attr,!0)},is_vertical_nav:function(a){return/vertical-nav/i.test(a.data("section"))},is_horizontal_nav:function(a){return/horizontal-nav/i.test(a.data("section"))},is_accordion:function(a){return/accordion/i.test(a.data("section"))},is_horizontal_tabs:function(a){return/^tabs$/i.test(a.data("section"))},is_vertical_tabs:function(a){return/vertical-tabs/i.test(a.data("section"))},is_auto:function(a){var b=a.data("section");return""===b||/auto/i.test(b)},set_active_from_hash:function(){var d=b.libs.section,e=c.location.hash.substring(1),f=a(d.settings.section_selector);f.each(function(){var b=a(this),c=a.extend({},d.settings,d.data_options(b)),f=b.children(d.settings.region_selector),g=c.deep_linking&&e.length>0,h=!1;f.each(function(){var b=a(this);if(h)b.removeClass(d.settings.active_class);else if(g){var c=b.children(d.settings.content_selector).data("slug");c&&new RegExp(c,"i").test(e)?(b.hasClass(d.settings.active_class)||b.addClass(d.settings.active_class),h=!0):b.removeClass(d.settings.active_class)}else b.hasClass(d.settings.active_class)&&(h=!0)}),h||c.deep_linking||!c.one_up&&(d.is_horizontal_nav(b)||d.is_vertical_nav(b)||d.is_accordion(b))||f.filter(":visible").first().addClass(d.settings.active_class)})},reflow:function(){var c=b.libs.section;a(c.settings.section_selector).removeAttr(c.settings.resized_data_attr),c.throttle(function(){c.resize()},30)()},small:function(b){var c=a.extend({},this.settings,this.data_options(b));return this.is_horizontal_tabs(b)?!1:b&&this.is_accordion(b)?!0:a("html").hasClass("lt-ie9")?!0:a("html").hasClass("ie8compat")?!0:a(this.scope).width()<c.small_breakpoint},off:function(){a(this.scope).off(".fndtn.section"),a(c).off(".fndtn.section"),a(d).off(".fndtn.section")}},a.fn.reflow_section=function(a){var c=this,d=b.libs.section;return c.removeAttr(d.settings.resized_data_attr),d.throttle(function(){d.resize(c,a)},30)(),this}}(b.zj,window,document)});
