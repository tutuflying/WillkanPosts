define("willkan/foundation/4.3.1/foundation/foundation.reveal",["willkan/foundation/4.3.1/foundation/foundation","$"],function(a){var b=window.Foundation||a("willkan/foundation/4.3.1/foundation/foundation");!function(a,c,d,e){"use strict";b.libs.reveal={name:"reveal",version:"4.2.2",locked:!1,settings:{animation:"fadeAndPop",animationSpeed:250,closeOnBackgroundClick:!0,closeOnEsc:!0,dismissModalClass:"close-reveal-modal",bgClass:"reveal-modal-bg",open:function(){},opened:function(){},close:function(){},closed:function(){},bg:a(".reveal-modal-bg"),css:{open:{opacity:0,visibility:"visible",display:"block"},close:{opacity:1,visibility:"hidden",display:"none"}}},init:function(c,d,e){return b.inherit(this,"data_options delay"),"object"==typeof d?a.extend(!0,this.settings,d):"undefined"!=typeof e&&a.extend(!0,this.settings,e),"string"!=typeof d?(this.events(),this.settings.init):this[d].call(this,e)},events:function(){var b=this;return a(this.scope).off(".fndtn.reveal").on("click.fndtn.reveal","[data-reveal-id]",function(c){if(c.preventDefault(),!b.locked){var d=a(this),e=d.data("reveal-ajax");if(b.locked=!0,"undefined"==typeof e)b.open.call(b,d);else{var f=e===!0?d.attr("href"):e;b.open.call(b,d,{url:f})}}}).on("click.fndtn.reveal",this.close_targets(),function(c){if(c.preventDefault(),!b.locked){var d=a.extend({},b.settings,b.data_options(a(".reveal-modal.open")));if(a(c.target)[0]===a("."+d.bgClass)[0]&&!d.closeOnBackgroundClick)return;b.locked=!0,b.close.call(b,a(this).closest(".reveal-modal"))}}).on("open.fndtn.reveal",".reveal-modal",this.settings.open).on("opened.fndtn.reveal",".reveal-modal",this.settings.opened).on("opened.fndtn.reveal",".reveal-modal",this.open_video).on("close.fndtn.reveal",".reveal-modal",this.settings.close).on("closed.fndtn.reveal",".reveal-modal",this.settings.closed).on("closed.fndtn.reveal",".reveal-modal",this.close_video),a("body").bind("keyup.reveal",function(c){var d=a(".reveal-modal.open"),e=a.extend({},b.settings,b.data_options(d));27===c.which&&e.closeOnEsc&&d.foundation("reveal","close")}),!0},open:function(b,c){if(b)if("undefined"!=typeof b.selector)var d=a("#"+b.data("reveal-id"));else{var d=a(this.scope);c=b}else var d=a(this.scope);if(!d.hasClass("open")){var e=a(".reveal-modal.open");if("undefined"==typeof d.data("css-top")&&d.data("css-top",parseInt(d.css("top"),10)).data("offset",this.cache_offset(d)),d.trigger("open"),e.length<1&&this.toggle_bg(d),"undefined"!=typeof c&&c.url){var f=this,g="undefined"!=typeof c.success?c.success:null;a.extend(c,{success:function(b,c,h){a.isFunction(g)&&g(b,c,h),d.html(b),a(d).foundation("section","reflow"),f.hide(e,f.settings.css.close),f.show(d,f.settings.css.open)}}),a.ajax(c)}else this.hide(e,this.settings.css.close),this.show(d,this.settings.css.open)}},close:function(b){var b=b&&b.length?b:a(this.scope),c=a(".reveal-modal.open");c.length>0&&(this.locked=!0,b.trigger("close"),this.toggle_bg(b),this.hide(c,this.settings.css.close))},close_targets:function(){var a="."+this.settings.dismissModalClass;return this.settings.closeOnBackgroundClick?a+", ."+this.settings.bgClass:a},toggle_bg:function(){0===a(".reveal-modal-bg").length&&(this.settings.bg=a("<div />",{"class":this.settings.bgClass}).appendTo("body")),this.settings.bg.filter(":visible").length>0?this.hide(this.settings.bg):this.show(this.settings.bg)},show:function(b,d){if(d){if(/pop/i.test(this.settings.animation)){d.top=a(c).scrollTop()-b.data("offset")+"px";var e={top:a(c).scrollTop()+b.data("css-top")+"px",opacity:1};return this.delay(function(){return b.css(d).animate(e,this.settings.animationSpeed,"linear",function(){this.locked=!1,b.trigger("opened")}.bind(this)).addClass("open")}.bind(this),this.settings.animationSpeed/2)}if(/fade/i.test(this.settings.animation)){var e={opacity:1};return this.delay(function(){return b.css(d).animate(e,this.settings.animationSpeed,"linear",function(){this.locked=!1,b.trigger("opened")}.bind(this)).addClass("open")}.bind(this),this.settings.animationSpeed/2)}return b.css(d).show().css({opacity:1}).addClass("open").trigger("opened")}return/fade/i.test(this.settings.animation)?b.fadeIn(this.settings.animationSpeed/2):b.show()},hide:function(b,d){if(d){if(/pop/i.test(this.settings.animation)){var e={top:-a(c).scrollTop()-b.data("offset")+"px",opacity:0};return this.delay(function(){return b.animate(e,this.settings.animationSpeed,"linear",function(){this.locked=!1,b.css(d).trigger("closed")}.bind(this)).removeClass("open")}.bind(this),this.settings.animationSpeed/2)}if(/fade/i.test(this.settings.animation)){var e={opacity:0};return this.delay(function(){return b.animate(e,this.settings.animationSpeed,"linear",function(){this.locked=!1,b.css(d).trigger("closed")}.bind(this)).removeClass("open")}.bind(this),this.settings.animationSpeed/2)}return b.hide().css(d).removeClass("open").trigger("closed")}return/fade/i.test(this.settings.animation)?b.fadeOut(this.settings.animationSpeed/2):b.hide()},close_video:function(){var b=a(this).find(".flex-video"),c=b.find("iframe");c.length>0&&(c.attr("data-src",c[0].src),c.attr("src","about:blank"),b.hide())},open_video:function(){var b=a(this).find(".flex-video"),c=b.find("iframe");if(c.length>0){var d=c.attr("data-src");if("string"==typeof d)c[0].src=c.attr("data-src");else{var f=c[0].src;c[0].src=e,c[0].src=f}b.show()}},cache_offset:function(a){var b=a.show().height()+parseInt(a.css("top"),10);return a.hide(),b},off:function(){a(this.scope).off(".fndtn.reveal")},reflow:function(){}}}(b.zj,this,this.document)});
